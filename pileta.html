<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Esquema Gabinete Piscina - Bypass Manual</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            min-height: 100vh;
            padding: 20px;
            color: #fff;
        }

        .container {
            max-width: 1150px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 25px;
        }

        header h1 {
            font-size: 1.8rem;
            margin-bottom: 5px;
        }

        header p {
            color: #4ecdc4;
            font-size: 0.9rem;
        }

        .esquema-container {
            background: #1a1a1a;
            border-radius: 20px;
            padding: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.5);
            margin-bottom: 30px;
        }

        .svg-wrapper {
            display: flex;
            justify-content: center;
            overflow: visible;
        }

        /* Leyenda */
        .leyenda {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #333;
        }

        .leyenda-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 11px;
            background: rgba(255,255,255,0.05);
            padding: 5px 10px;
            border-radius: 15px;
        }

        .leyenda-dot {
            width: 14px;
            height: 14px;
            border-radius: 50%;
        }

        /* Secciones */
        .section {
            margin-top: 30px;
        }

        .section h2 {
            text-align: center;
            color: #4ecdc4;
            margin-bottom: 20px;
            font-size: 1.2rem;
        }

        /* Modos */
        .modos-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 12px;
        }

        .modo-card {
            background: rgba(255,255,255,0.03);
            border-radius: 10px;
            padding: 15px;
            border: 1px solid rgba(255,255,255,0.08);
        }

        .modo-card h4 {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 10px;
            font-size: 14px;
        }

        .modo-card .comando {
            background: rgba(78, 205, 196, 0.1);
            color: #4ecdc4;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 11px;
            margin-bottom: 12px;
            font-style: italic;
        }

        .modo-estados {
            font-size: 12px;
        }

        .modo-estado {
            display: flex;
            justify-content: space-between;
            padding: 4px 0;
            border-bottom: 1px solid rgba(255,255,255,0.05);
        }

        .estado-on { color: #22c55e; font-weight: bold; }
        .estado-off { color: #888; }
        .estado-abierta { color: #22c55e; font-weight: bold; }
        .estado-cerrada { color: #ef4444; font-weight: bold; }

        /* Exterior */
        .exterior-box {
            background: rgba(249, 115, 22, 0.1);
            border: 1px dashed #f97316;
            border-radius: 12px;
            padding: 15px;
            margin-top: 20px;
        }

        .exterior-box h3 {
            color: #f97316;
            font-size: 14px;
            margin-bottom: 12px;
        }

        .exterior-flow {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            flex-wrap: wrap;
            font-size: 12px;
        }

        .exterior-item {
            background: rgba(0,0,0,0.3);
            padding: 10px 15px;
            border-radius: 8px;
            text-align: center;
        }

        .exterior-arrow {
            color: #666;
            font-size: 18px;
        }

        /* Materiales */
        .materiales-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 12px;
        }

        .material-card {
            background: rgba(255,255,255,0.03);
            border-radius: 10px;
            padding: 12px;
            border: 1px solid rgba(255,255,255,0.08);
        }

        .material-card h3 {
            color: #4ecdc4;
            font-size: 13px;
            margin-bottom: 10px;
        }

        .material-card ul {
            list-style: none;
        }

        .material-card li {
            display: flex;
            justify-content: space-between;
            padding: 5px 0;
            font-size: 12px;
            border-bottom: 1px solid rgba(255,255,255,0.05);
        }

        .cantidad {
            background: #4ecdc4;
            color: #1a1a2e;
            padding: 2px 8px;
            border-radius: 8px;
            font-weight: bold;
            font-size: 11px;
        }

        /* Notas */
        .nota {
            background: rgba(34, 197, 94, 0.1);
            border: 1px solid rgba(34, 197, 94, 0.3);
            border-radius: 10px;
            padding: 15px;
            margin-top: 20px;
            font-size: 12px;
        }

        .nota h3 {
            color: #22c55e;
            font-size: 13px;
            margin-bottom: 10px;
        }

        .nota ul {
            list-style: none;
        }

        .nota li {
            padding: 3px 0;
            padding-left: 20px;
            position: relative;
        }

        .nota li::before {
            content: '‚úì';
            position: absolute;
            left: 0;
            color: #22c55e;
        }

        .nota-warning {
            background: rgba(249, 115, 22, 0.1);
            border: 1px solid rgba(249, 115, 22, 0.3);
        }

        .nota-warning h3 {
            color: #f97316;
        }

        .nota-warning li::before {
            content: '‚ö†';
            color: #f97316;
        }

        footer {
            text-align: center;
            margin-top: 30px;
            color: #555;
            font-size: 11px;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üèä Esquema Gabinete Piscina</h1>
            <p>Bypass con V√°lvulas Esf√©ricas de Palanca ‚Ä¢ Preparado para Zigbee</p>
        </header>

        <div class="esquema-container">
            <div class="svg-wrapper">
                <svg viewBox="0 0 1000 820" width="1000" height="820">
                    <defs>
                        <!-- Gradientes para ca√±os -->
                        <linearGradient id="pipeGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                            <stop offset="0%" style="stop-color:#a8a8a8"/>
                            <stop offset="30%" style="stop-color:#888888"/>
                            <stop offset="70%" style="stop-color:#888888"/>
                            <stop offset="100%" style="stop-color:#a8a8a8"/>
                        </linearGradient>
                        <linearGradient id="pipeGradientH" x1="0%" y1="0%" x2="0%" y2="100%">
                            <stop offset="0%" style="stop-color:#a8a8a8"/>
                            <stop offset="30%" style="stop-color:#888888"/>
                            <stop offset="70%" style="stop-color:#888888"/>
                            <stop offset="100%" style="stop-color:#a8a8a8"/>
                        </linearGradient>
                        <radialGradient id="bombaGradient" cx="30%" cy="30%">
                            <stop offset="0%" style="stop-color:#3b82f6"/>
                            <stop offset="100%" style="stop-color:#1d4ed8"/>
                        </radialGradient>
                        <radialGradient id="filtroGradient" cx="35%" cy="35%">
                            <stop offset="0%" style="stop-color:#f5e6c8"/>
                            <stop offset="50%" style="stop-color:#d4c4a8"/>
                            <stop offset="100%" style="stop-color:#b8a888"/>
                        </radialGradient>
                        <radialGradient id="valvulaGradient" cx="30%" cy="30%">
                            <stop offset="0%" style="stop-color:#ff5555"/>
                            <stop offset="100%" style="stop-color:#cc2222"/>
                        </radialGradient>
                        <radialGradient id="canastoGradient" cx="30%" cy="30%">
                            <stop offset="0%" style="stop-color:rgba(180,220,255,0.6)"/>
                            <stop offset="100%" style="stop-color:rgba(120,180,255,0.3)"/>
                        </radialGradient>
                        <filter id="shadow">
                            <feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.4"/>
                        </filter>
                        <filter id="shadow-light">
                            <feDropShadow dx="1" dy="1" stdDeviation="2" flood-opacity="0.3"/>
                        </filter>
                    </defs>

                    <!-- ==================== FONDO GABINETE ==================== -->
                    <rect x="50" y="50" width="700" height="600" rx="20" ry="20" fill="#2d2d2d" filter="url(#shadow)"/>
                    <rect x="55" y="55" width="690" height="590" rx="17" ry="17" fill="#252525"/>
                    
                    <!-- Marco interior -->
                    <rect x="70" y="70" width="660" height="560" rx="12" ry="12" fill="none" stroke="#333" stroke-width="2"/>

                    <!-- ==================== CA√ëOS ==================== -->

                    <!-- SUCCI√ìN: Skimmer (abajo) ‚Üí sube ‚Üí V.Skimmer ‚Üí bomba -->
                    <path d="
                        M 140 660
                        L 140 480
                        Q 140 440, 180 440
                        L 250 440
                    " fill="none" stroke="url(#pipeGradient)" stroke-width="24" stroke-linecap="round" stroke-linejoin="round"/>

                    <!-- IMPULSI√ìN: Bomba ‚Üí sube ‚Üí codo ‚Üí derecha ‚Üí codo ‚Üí baja ‚Üí PUMP filtro -->
                    <path d="
                        M 220 390
                        L 220 160
                        Q 220 120, 260 120
                        L 420 120
                        Q 460 120, 460 160
                        L 460 220
                    " fill="none" stroke="url(#pipeGradient)" stroke-width="24" stroke-linecap="round" stroke-linejoin="round"/>

                    <!-- RETURN filtro ‚Üí Te ‚Üí sube al bypass -->
                    <path d="
                        M 550 350
                        L 620 350
                        L 620 170
                    " fill="none" stroke="url(#pipeGradient)" stroke-width="24" stroke-linecap="round" stroke-linejoin="round"/>

                    <!-- BYPASS HORIZONTAL (arriba) -->
                    <path d="
                        M 620 130
                        L 760 130
                    " fill="none" stroke="url(#pipeGradient)" stroke-width="24" stroke-linecap="round" stroke-linejoin="round"/>

                    <!-- VERTICAL DERECHO del bypass (conecta arriba con abajo) -->
                    <path d="
                        M 760 130
                        L 760 520
                    " fill="none" stroke="url(#pipeGradient)" stroke-width="24" stroke-linecap="round" stroke-linejoin="round"/>

                    <!-- IDA CALDERA: De la Te sale a la derecha -->
                    <path d="
                        M 620 280
                        L 760 280
                        L 760 280
                    " fill="none" stroke="url(#pipeGradient)" stroke-width="24" stroke-linecap="round" stroke-linejoin="round"/>

                    <!-- VUELTA CALDERA: Entra y sube a unirse -->
                    <path d="
                        M 760 400
                        L 760 400
                    " fill="none" stroke="url(#pipeGradient)" stroke-width="24" stroke-linecap="round" stroke-linejoin="round"/>

                    <!-- SALIDA A JETS -->
                    <path d="
                        M 760 520
                        L 760 660
                    " fill="none" stroke="url(#pipeGradient)" stroke-width="24" stroke-linecap="round" stroke-linejoin="round"/>

                    <!-- WASTE: filtro ‚Üí derecha ‚Üí baja ‚Üí sale -->
                    <path d="
                        M 460 480
                        L 460 540
                        Q 460 570, 490 570
                        L 680 570
                        L 680 660
                    " fill="none" stroke="url(#pipeGradient)" stroke-width="24" stroke-linecap="round" stroke-linejoin="round"/>

                    <!-- ==================== Te PRINCIPAL (donde se divide) ==================== -->
                    <rect x="605" y="260" width="30" height="110" rx="5" fill="#666" stroke="#555" stroke-width="2" filter="url(#shadow-light)"/>
                    <rect x="605" y="335" width="50" height="30" rx="5" fill="#666" stroke="#555" stroke-width="2"/>

                    <!-- ==================== BOMBA GAMMA ==================== -->
                    <g transform="translate(130, 390)" filter="url(#shadow)">
                        <!-- Motor -->
                        <rect x="0" y="5" width="90" height="65" rx="6" fill="url(#bombaGradient)"/>
                        <text x="45" y="45" text-anchor="middle" fill="rgba(255,255,255,0.95)" font-size="13" font-weight="bold">GAMMA</text>
                        
                        <!-- Cuerpo central -->
                        <rect x="90" y="12" width="45" height="50" rx="4" fill="#1a1a1a"/>
                        
                        <!-- Canasto de pelos -->
                        <circle cx="175" cy="37" r="40" fill="url(#canastoGradient)" stroke="#3a3a3a" stroke-width="5"/>
                        <circle cx="175" cy="37" r="24" fill="none" stroke="rgba(255,255,255,0.15)" stroke-width="2" stroke-dasharray="6,4"/>
                        
                        <!-- Uni√≥n rectangular -->
                        <rect x="210" y="22" width="22" height="30" rx="4" fill="#555" stroke="#444" stroke-width="2"/>
                    </g>
                    
                    <!-- Etiqueta BOMBA -->
                    <text x="220" y="505" text-anchor="middle" fill="#3b82f6" font-size="14" font-weight="bold">BOMBA</text>

                    <!-- ==================== FILTRO DE ARENA ==================== -->
                    <g transform="translate(350, 240)" filter="url(#shadow)">
                        <!-- Tanque -->
                        <circle cx="110" cy="110" r="110" fill="url(#filtroGradient)"/>
                        
                        <!-- V√°lvula selectora -->
                        <circle cx="110" cy="110" r="60" fill="#1a1a1a"/>
                        <circle cx="110" cy="110" r="18" fill="#2a2a2a" stroke="#3a3a3a" stroke-width="3"/>
                        
                        <!-- Manija -->
                        <line x1="110" y1="110" x2="165" y2="70" stroke="#2a2a2a" stroke-width="12" stroke-linecap="round"/>
                        
                        <!-- Boca PUMP (arriba) -->
                        <rect x="95" y="-22" width="30" height="30" rx="5" fill="#1a1a1a" stroke="#333" stroke-width="2"/>
                        
                        <!-- Boca RETURN (derecha) -->
                        <rect x="212" y="95" width="30" height="30" rx="5" fill="#1a1a1a" stroke="#333" stroke-width="2"/>
                        
                        <!-- Boca WASTE (abajo) -->
                        <rect x="95" y="212" width="30" height="30" rx="5" fill="#1a1a1a" stroke="#333" stroke-width="2"/>
                    </g>
                    
                    <!-- Etiquetas del filtro -->
                    <text x="460" y="215" text-anchor="middle" fill="#999" font-size="12" font-weight="bold">PUMP</text>
                    <text x="600" y="365" text-anchor="end" fill="#999" font-size="12" font-weight="bold">RETURN</text>
                    <text x="460" y="510" text-anchor="middle" fill="#999" font-size="12" font-weight="bold">WASTE</text>
                    <text x="460" y="545" text-anchor="middle" fill="#c4b498" font-size="14" font-weight="bold">FILTRO DE ARENA</text>

                    <!-- ==================== V√ÅLVULAS ESF√âRICAS ==================== -->

                    <!-- V. SKIMMER -->
                    <g transform="translate(200, 440)">
                        <rect x="-30" y="-8" width="60" height="16" rx="4" fill="#444" stroke="#333" stroke-width="2"/>
                        <circle cx="0" cy="0" r="20" fill="url(#valvulaGradient)" filter="url(#shadow-light)"/>
                        <rect x="-28" y="-5" width="56" height="10" rx="3" fill="#8b0000"/>
                        <line x1="-10" y1="-10" x2="10" y2="10" stroke="#fff" stroke-width="4" stroke-linecap="round"/>
                    </g>
                    <text x="200" y="478" text-anchor="middle" fill="#ef4444" font-size="11" font-weight="bold">V. SKIMMER</text>

                    <!-- V. BYPASS (arriba del bypass horizontal) -->
                    <g transform="translate(690, 130)">
                        <rect x="-8" y="-30" width="16" height="60" rx="4" fill="#444" stroke="#333" stroke-width="2"/>
                        <circle cx="0" cy="0" r="22" fill="url(#valvulaGradient)" filter="url(#shadow-light)"/>
                        <rect x="-5" y="-30" width="10" height="60" rx="3" fill="#8b0000"/>
                        <line x1="-10" y1="-10" x2="10" y2="10" stroke="#fff" stroke-width="4" stroke-linecap="round"/>
                    </g>
                    <text x="690" y="175" text-anchor="middle" fill="#ef4444" font-size="11" font-weight="bold">V. BYPASS</text>

                    <!-- V. IDA CALDERA -->
                    <g transform="translate(690, 280)">
                        <rect x="-8" y="-30" width="16" height="60" rx="4" fill="#444" stroke="#333" stroke-width="2"/>
                        <circle cx="0" cy="0" r="22" fill="url(#valvulaGradient)" filter="url(#shadow-light)"/>
                        <rect x="-5" y="-30" width="10" height="60" rx="3" fill="#8b0000"/>
                        <line x1="-10" y1="-10" x2="10" y2="10" stroke="#fff" stroke-width="4" stroke-linecap="round"/>
                    </g>
                    <text x="690" y="328" text-anchor="middle" fill="#ef4444" font-size="11" font-weight="bold">V. IDA</text>

                    <!-- V. VUELTA CALDERA -->
                    <g transform="translate(690, 400)">
                        <rect x="-8" y="-30" width="16" height="60" rx="4" fill="#444" stroke="#333" stroke-width="2"/>
                        <circle cx="0" cy="0" r="22" fill="url(#valvulaGradient)" filter="url(#shadow-light)"/>
                        <rect x="-5" y="-30" width="10" height="60" rx="3" fill="#8b0000"/>
                        <line x1="-10" y1="-10" x2="10" y2="10" stroke="#fff" stroke-width="4" stroke-linecap="round"/>
                    </g>
                    <text x="690" y="448" text-anchor="middle" fill="#ef4444" font-size="11" font-weight="bold">V. VUELTA</text>

                    <!-- ==================== UNIONES RECTANGULARES ==================== -->
                    
                    <!-- Uni√≥n entrada bomba -->
                    <rect x="245" y="428" width="22" height="24" rx="4" fill="#555" stroke="#444" stroke-width="2"/>
                    
                    <!-- Uni√≥n salida bomba -->
                    <rect x="209" y="380" width="22" height="22" rx="4" fill="#555" stroke="#444" stroke-width="2"/>
                    
                    <!-- Uni√≥n PUMP filtro -->
                    <rect x="449" y="215" width="22" height="24" rx="4" fill="#555" stroke="#444" stroke-width="2"/>
                    
                    <!-- Uni√≥n RETURN filtro -->
                    <rect x="548" y="338" width="24" height="24" rx="4" fill="#555" stroke="#444" stroke-width="2"/>
                    
                    <!-- Uni√≥n WASTE filtro -->
                    <rect x="449" y="470" width="22" height="24" rx="4" fill="#555" stroke="#444" stroke-width="2"/>

                    <!-- ==================== FLECHAS DE FLUJO ==================== -->
                    <text x="145" y="570" fill="#4ecdc4" font-size="18" font-weight="bold">‚ñ≤</text>
                    <text x="225" y="435" fill="#4ecdc4" font-size="18" font-weight="bold">‚óÄ</text>
                    <text x="225" y="290" fill="#4ecdc4" font-size="18" font-weight="bold">‚ñ≤</text>
                    <text x="330" y="115" fill="#4ecdc4" font-size="18" font-weight="bold">‚ñ∂</text>
                    <text x="465" y="190" fill="#4ecdc4" font-size="18" font-weight="bold">‚ñº</text>
                    <text x="580" y="345" fill="#4ecdc4" font-size="18" font-weight="bold">‚ñ∂</text>
                    <text x="625" y="270" fill="#4ecdc4" font-size="18" font-weight="bold">‚ñ≤</text>
                    <text x="650" y="125" fill="#4ecdc4" font-size="18" font-weight="bold">‚ñ∂</text>
                    <text x="765" y="200" fill="#4ecdc4" font-size="18" font-weight="bold">‚ñº</text>
                    <text x="650" y="275" fill="#4ecdc4" font-size="18" font-weight="bold">‚ñ∂</text>
                    <text x="650" y="395" fill="#4ecdc4" font-size="18" font-weight="bold">‚óÄ</text>
                    <text x="765" y="480" fill="#4ecdc4" font-size="18" font-weight="bold">‚ñº</text>
                    <text x="550" y="565" fill="#4ecdc4" font-size="18" font-weight="bold">‚ñ∂</text>

                    <!-- ==================== ETIQUETA BYPASS CALDERA ==================== -->
                    <rect x="640" y="75" width="150" height="35" rx="6" fill="rgba(78,205,196,0.15)" stroke="#4ecdc4" stroke-width="2"/>
                    <text x="715" y="100" text-anchor="middle" fill="#4ecdc4" font-size="14" font-weight="bold">BYPASS CALDERA</text>

                    <!-- ==================== ETIQUETA IMPULSI√ìN ==================== -->
                    <rect x="280" y="85" width="110" height="28" rx="5" fill="rgba(78,205,196,0.15)" stroke="#4ecdc4" stroke-width="1"/>
                    <text x="335" y="105" text-anchor="middle" fill="#4ecdc4" font-size="12" font-weight="bold">IMPULSI√ìN</text>

                    <!-- ==================== PASAMUROS ==================== -->
                    
                    <!-- Pasamuro IDA CALDERA -->
                    <circle cx="760" cy="280" r="14" fill="#444" stroke="#555" stroke-width="4"/>
                    <circle cx="760" cy="280" r="6" fill="#222"/>
                    
                    <!-- Pasamuro VUELTA CALDERA -->
                    <circle cx="760" cy="400" r="14" fill="#444" stroke="#555" stroke-width="4"/>
                    <circle cx="760" cy="400" r="6" fill="#222"/>
                    
                    <!-- Pasamuro JETS -->
                    <circle cx="760" cy="660" r="16" fill="#444" stroke="#555" stroke-width="4"/>
                    <circle cx="760" cy="660" r="7" fill="#222"/>
                    
                    <!-- Pasamuro DESAGOTE -->
                    <circle cx="680" cy="660" r="16" fill="#444" stroke="#555" stroke-width="4"/>
                    <circle cx="680" cy="660" r="7" fill="#222"/>
                    
                    <!-- Pasamuro SKIMMER -->
                    <circle cx="140" cy="660" r="16" fill="#444" stroke="#555" stroke-width="4"/>
                    <circle cx="140" cy="660" r="7" fill="#222"/>

                    <!-- ==================== ETIQUETAS EXTERNAS ==================== -->
                    
                    <!-- Panel derecho -->
                    <g transform="translate(800, 0)">
                        <!-- IDA CALDERA -->
                        <rect x="0" y="255" width="145" height="50" rx="8" fill="rgba(249,115,22,0.15)" stroke="#f97316" stroke-width="2"/>
                        <text x="72" y="278" text-anchor="middle" fill="#f97316" font-size="13" font-weight="bold">IDA CALDERA</text>
                        <text x="72" y="295" text-anchor="middle" fill="#999" font-size="11">Salida 3/4"</text>
                        
                        <!-- VUELTA CALDERA -->
                        <rect x="0" y="375" width="145" height="50" rx="8" fill="rgba(249,115,22,0.15)" stroke="#f97316" stroke-width="2"/>
                        <text x="72" y="398" text-anchor="middle" fill="#f97316" font-size="13" font-weight="bold">VUELTA CALD.</text>
                        <text x="72" y="415" text-anchor="middle" fill="#999" font-size="11">Entrada 3/4"</text>
                    </g>

                    <!-- L√≠neas conectoras derecha -->
                    <line x1="774" y1="280" x2="800" y2="280" stroke="#f97316" stroke-width="3"/>
                    <line x1="774" y1="400" x2="800" y2="400" stroke="#f97316" stroke-width="3"/>

                    <!-- ==================== ETIQUETAS INFERIORES ==================== -->
                    
                    <!-- SKIMMER -->
                    <g transform="translate(140, 700)">
                        <line x1="0" y1="0" x2="0" y2="35" stroke="#4ecdc4" stroke-width="3"/>
                        <polygon points="-8,30 8,30 0,45" fill="#4ecdc4"/>
                        <rect x="-60" y="55" width="120" height="50" rx="8" fill="rgba(78,205,196,0.15)" stroke="#4ecdc4" stroke-width="2"/>
                        <text x="0" y="78" text-anchor="middle" fill="#4ecdc4" font-size="13" font-weight="bold">SUCCI√ìN</text>
                        <text x="0" y="95" text-anchor="middle" fill="#4ecdc4" font-size="13" font-weight="bold">SKIMMER</text>
                    </g>

                    <!-- DESAGOTE -->
                    <g transform="translate(680, 700)">
                        <line x1="0" y1="0" x2="0" y2="35" stroke="#888" stroke-width="3"/>
                        <polygon points="-8,30 8,30 0,45" fill="#888"/>
                        <rect x="-55" y="55" width="110" height="50" rx="8" fill="rgba(255,255,255,0.05)" stroke="#888" stroke-width="1"/>
                        <text x="0" y="78" text-anchor="middle" fill="#fff" font-size="13" font-weight="bold">DESAGOTE</text>
                        <text x="0" y="95" text-anchor="middle" fill="#999" font-size="11">50mm</text>
                    </g>

                    <!-- JETS -->
                    <g transform="translate(760, 700)">
                        <line x1="0" y1="0" x2="0" y2="35" stroke="#4ecdc4" stroke-width="3"/>
                        <polygon points="-8,30 8,30 0,45" fill="#4ecdc4"/>
                        <rect x="-55" y="55" width="110" height="50" rx="8" fill="rgba(78,205,196,0.15)" stroke="#4ecdc4" stroke-width="2"/>
                        <text x="0" y="78" text-anchor="middle" fill="#4ecdc4" font-size="13" font-weight="bold">RETORNO</text>
                        <text x="0" y="95" text-anchor="middle" fill="#4ecdc4" font-size="13" font-weight="bold">JETS</text>
                    </g>

                </svg>
            </div>

            <!-- LEYENDA -->
            <div class="leyenda">
                <div class="leyenda-item">
                    <div class="leyenda-dot" style="background: linear-gradient(145deg, #3b82f6, #1d4ed8);"></div>
                    <span>Bomba Gamma</span>
                </div>
                <div class="leyenda-item">
                    <div class="leyenda-dot" style="background: #d4c4a8;"></div>
                    <span>Filtro de Arena</span>
                </div>
                <div class="leyenda-item">
                    <div class="leyenda-dot" style="background: #888;"></div>
                    <span>Ca√±o PVC 50mm</span>
                </div>
                <div class="leyenda-item">
                    <div class="leyenda-dot" style="background: linear-gradient(145deg, #ff5555, #cc2222);"></div>
                    <span>V√°lvula Esf√©rica Palanca</span>
                </div>
                <div class="leyenda-item">
                    <div class="leyenda-dot" style="background: #555;"></div>
                    <span>Uni√≥n / Te</span>
                </div>
            </div>
        </div>

        <!-- CIRCUITO EXTERIOR -->
        <div class="exterior-box">
            <h3>üî• CIRCUITO EXTERIOR (Fuera del gabinete)</h3>
            <div class="exterior-flow">
                <div class="exterior-item">üì§ IDA CALDERA<br><small>del gabinete</small></div>
                <span class="exterior-arrow">‚Üí</span>
                <div class="exterior-item" style="border: 2px solid #f97316;">üî• CALDERA<br><small>Serpent√≠n</small></div>
                <span class="exterior-arrow">‚Üí</span>
                <div class="exterior-item">üì• VUELTA CALD.<br><small>al gabinete</small></div>
            </div>
            <p style="text-align: center; margin-top: 12px; color: #888; font-size: 11px;">
                üí° La inyecci√≥n de agua de red se conecta al ca√±o de VUELTA (afuera del gabinete)
            </p>
        </div>

        <!-- MODOS DE OPERACI√ìN -->
        <section class="section">
            <h2>üéõÔ∏è Modos de Operaci√≥n (Manual)</h2>
            <div class="modos-grid">
                <div class="modo-card">
                    <h4>üîÑ FILTRAR (sin calefacci√≥n)</h4>
                    <div class="comando">Agua recircula solo por filtro</div>
                    <div class="modo-estados">
                        <div class="modo-estado"><span>V. Skimmer</span><span class="estado-abierta">ABIERTA</span></div>
                        <div class="modo-estado"><span>V. Bypass</span><span class="estado-abierta">ABIERTA</span></div>
                        <div class="modo-estado"><span>V. Ida Caldera</span><span class="estado-cerrada">CERRADA</span></div>
                        <div class="modo-estado"><span>V. Vuelta Caldera</span><span class="estado-cerrada">CERRADA</span></div>
                        <div class="modo-estado"><span>Bomba</span><span class="estado-on">ON</span></div>
                    </div>
                </div>

                <div class="modo-card">
                    <h4>üî• CALENTAR (calefacci√≥n)</h4>
                    <div class="comando">Agua pasa por la caldera</div>
                    <div class="modo-estados">
                        <div class="modo-estado"><span>V. Skimmer</span><span class="estado-abierta">ABIERTA</span></div>
                        <div class="modo-estado"><span>V. Bypass</span><span class="estado-cerrada">CERRADA</span></div>
                        <div class="modo-estado"><span>V. Ida Caldera</span><span class="estado-abierta">ABIERTA</span></div>
                        <div class="modo-estado"><span>V. Vuelta Caldera</span><span class="estado-abierta">ABIERTA</span></div>
                        <div class="modo-estado"><span>Bomba</span><span class="estado-on">ON</span></div>
                        <div class="modo-estado"><span>Caldera</span><span class="estado-on">ENCENDIDA</span></div>
                    </div>
                </div>

                <div class="modo-card">
                    <h4>üõ†Ô∏è MANTENIMIENTO CALDERA</h4>
                    <div class="comando">Caldera aislada del circuito</div>
                    <div class="modo-estados">
                        <div class="modo-estado"><span>V. Skimmer</span><span class="estado-abierta">ABIERTA</span></div>
                        <div class="modo-estado"><span>V. Bypass</span><span class="estado-abierta">ABIERTA</span></div>
                        <div class="modo-estado"><span>V. Ida Caldera</span><span class="estado-cerrada">CERRADA</span></div>
                        <div class="modo-estado"><span>V. Vuelta Caldera</span><span class="estado-cerrada">CERRADA</span></div>
                        <div class="modo-estado"><span>Bomba</span><span class="estado-on">ON (opcional)</span></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- MATERIALES -->
        <section class="section">
            <h2>üõí Lista de Materiales</h2>
            <div class="materiales-grid">
                <div class="material-card">
                    <h3>üî¥ V√°lvulas Esf√©ricas (PALANCA)</h3>
                    <ul>
                        <li><span>Esf√©rica PVC 50mm palanca (Skimmer)</span><span class="cantidad">1</span></li>
                        <li><span>Esf√©rica PVC 50mm palanca (Bypass)</span><span class="cantidad">1</span></li>
                        <li><span>Esf√©rica 3/4" palanca (Ida caldera)</span><span class="cantidad">1</span></li>
                        <li><span>Esf√©rica 3/4" palanca (Vuelta caldera)</span><span class="cantidad">1</span></li>
                    </ul>
                </div>

                <div class="material-card">
                    <h3>üî© Pasamuros / Adaptadores</h3>
                    <ul>
                        <li><span>Pasamuros 50mm (Skimmer/Waste/Jets)</span><span class="cantidad">3</span></li>
                        <li><span>Pasamuros 3/4" (Ida/Vuelta caldera)</span><span class="cantidad">2</span></li>
                    </ul>
                </div>

                <div class="material-card">
                    <h3>üìê Accesorios PVC 50mm</h3>
                    <ul>
                        <li><span>Codos 90¬∞</span><span class="cantidad">8</span></li>
                        <li><span>Codos 45¬∞</span><span class="cantidad">4</span></li>
                        <li><span>Te 50mm</span><span class="cantidad">2</span></li>
                        <li><span>Uniones dobles</span><span class="cantidad">5</span></li>
                        <li><span>Cuplas (manguitos)</span><span class="cantidad">4</span></li>
                    </ul>
                </div>

                <div class="material-card">
                    <h3>üîß Ca√±os y Transiciones</h3>
                    <ul>
                        <li><span>PVC 50mm (tira 4m)</span><span class="cantidad">2</span></li>
                        <li><span>Cupla reducci√≥n 50mm a 3/4"</span><span class="cantidad">2</span></li>
                        <li><span>Niples 3/4"</span><span class="cantidad">4</span></li>
                    </ul>
                </div>

                <div class="material-card">
                    <h3>üß¥ Insumos</h3>
                    <ul>
                        <li><span>Adhesivo PVC (lata grande)</span><span class="cantidad">1</span></li>
                        <li><span>Limpiador/Soldadura PVC</span><span class="cantidad">1</span></li>
                        <li><span>Tefl√≥n alta densidad</span><span class="cantidad">3</span></li>
                        <li><span>Sellador roscas (pasta)</span><span class="cantidad">1</span></li>
                    </ul>
                </div>

                <div class="material-card">
                    <h3>ü§ñ Despu√©s: Automatizaci√≥n</h3>
                    <ul>
                        <li><span>Actuador Zigbee para palanca</span><span class="cantidad">3</span></li>
                        <li><span>Termostato Zigbee caldera</span><span class="cantidad">1</span></li>
                        <li><span>Electrov√°lvula 3/4" Zigbee (llenado)</span><span class="cantidad">1</span></li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- NOTAS -->
        <div class="nota nota-warning">
            <h3>‚ö†Ô∏è IMPORTANTE: V√°lvulas de PALANCA</h3>
            <ul>
                <li>Las v√°lvulas DEBEN ser de <strong>manija tipo PALANCA</strong> (no mariposa/volante)</li>
                <li>El giro debe ser de <strong>90¬∞ (cuarto de vuelta)</strong> para compatibilidad con actuadores</li>
                <li>Dej√° <strong>10-15 cm de espacio</strong> arriba de cada v√°lvula para montar el actuador despu√©s</li>
            </ul>
        </div>

        <div class="nota">
            <h3>‚úÖ Despu√©s: Agregar Actuadores Zigbee</h3>
            <ul>
                <li><strong>Sin modificar ca√±er√≠as:</strong> El actuador se monta encima de la v√°lvula existente</li>
                <li><strong>V. Bypass:</strong> Actuador 50mm (abre/cierra el bypass)</li>
                <li><strong>V. Ida + V. Vuelta:</strong> Actuadores 3/4" (abren/cierran juntas para modo calefacci√≥n)</li>
                <li><strong>Costo estimado:</strong> ~$60-90 USD total (3 actuadores en AliExpress)</li>
            </ul>
        </div>

        <footer>
            <p>Esquema Gabinete Piscina ‚Ä¢ Bypass Manual con V√°lvulas Esf√©ricas</p>
            <p>Preparado para futura automatizaci√≥n Zigbee</p>
        </footer>
    </div>
</body>
</html>
